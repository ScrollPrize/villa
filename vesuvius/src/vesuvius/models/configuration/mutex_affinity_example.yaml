tr_setup:
  model_name: "mutex_affinity"

tr_config:
  patch_size: [128, 128, 128]
  enable_deep_supervision: false
  affinity_label_smoothing: 0.02

dataset_config:
  data_path: "/mnt/raid_nvme/datasets/raw/105_surfaces_resized"
  image_dirname: "images"
  affinity_dirname: "affinity_graph"
  image_extensions: [".zarr", ".tif", ".tiff"]
  normalization_scheme: "robust"
  skip_patch_validation: true
  targets:
    mutex_attractive:
      out_channels: 6
      activation: "sigmoid"
      losses:
        - name: "MemoryEfficientSoftDiceLoss"
          weight: 1.0
      visualization: "affinity"
    mutex_repulsive:
      out_channels: 60
      activation: "sigmoid"
      losses:
        - name: "MemoryEfficientSoftDiceLoss"
          weight: 1.0
      visualization: "affinity"

  affinity_targets:
    mutex_attractive:
      affinity_key: "affinities/attractive"
      mask_key: "mask/attractive"
      invert: true
      visualization: "affinity"
    mutex_repulsive:
      affinity_key: "affinities/repulsive"
      mask_key: "mask/repulsive"
      invert: false
      visualization: "affinity"
